@page "/mqtt"
@inject MqttState MqttState
@inject MqttService MqttService

<MqttConnect />

@if (MqttState.IsConnected)
{
    <MqttPublish />
    <MqttSubscribe />
}

@functions {

    protected override async Task OnInitializedAsync() 
    {
        MqttState.StateChanged += (o,s) => base.InvokeAsync(StateHasChanged);
    }
}